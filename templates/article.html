{% load sass_tags %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <title>{{ article.topic }}</title>

    <link href="{% sass_src 'css/styles.scss' %}" rel="stylesheet" type="text/css" />
    <link href="{% sass_src 'css/article/styles.scss' %}" rel="stylesheet" type="text/css" />
  </head>

  <body>
    <div class="page">
      <div class="waves">
        <svg
          id="wave"
          style="transform: rotate(180deg); transition: 0.3s"
          viewBox="0 0 1440 400"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
        >
          <defs>
            <linearGradient id="sw-gradient-0" x1="0" x2="0" y1="1" y2="0">
              <stop stop-color="rgba(3, 169, 244, 1)" offset="0%"></stop>
              <stop stop-color="rgba(9.54, 156.877, 223.445, 1)" offset="100%"></stop>
            </linearGradient>
          </defs>
          <path
            style="transform: translate(0, 0px); opacity: 1"
            fill="url(#sw-gradient-0)"
            d="M0,441L40,416.5C80,392,160,343,240,294C320,245,400,196,480,163.3C560,131,640,114,720,147C800,180,880,261,960,269.5C1040,278,1120,212,1200,179.7C1280,147,1360,147,1440,147C1520,147,1600,147,1680,130.7C1760,114,1840,82,1920,73.5C2000,65,2080,82,2160,130.7C2240,180,2320,261,2400,318.5C2480,376,2560,408,2640,392C2720,376,2800,310,2880,269.5C2960,229,3040,212,3120,179.7C3200,147,3280,98,3360,81.7C3440,65,3520,82,3600,114.3C3680,147,3760,196,3840,228.7C3920,261,4000,278,4080,261.3C4160,245,4240,196,4320,196C4400,196,4480,245,4560,236.8C4640,229,4720,163,4800,147C4880,131,4960,163,5040,220.5C5120,278,5200,359,5280,359.3C5360,359,5440,278,5520,261.3C5600,245,5680,294,5720,318.5L5760,343L5760,490L5720,490C5680,490,5600,490,5520,490C5440,490,5360,490,5280,490C5200,490,5120,490,5040,490C4960,490,4880,490,4800,490C4720,490,4640,490,4560,490C4480,490,4400,490,4320,490C4240,490,4160,490,4080,490C4000,490,3920,490,3840,490C3760,490,3680,490,3600,490C3520,490,3440,490,3360,490C3280,490,3200,490,3120,490C3040,490,2960,490,2880,490C2800,490,2720,490,2640,490C2560,490,2480,490,2400,490C2320,490,2240,490,2160,490C2080,490,2000,490,1920,490C1840,490,1760,490,1680,490C1600,490,1520,490,1440,490C1360,490,1280,490,1200,490C1120,490,1040,490,960,490C880,490,800,490,720,490C640,490,560,490,480,490C400,490,320,490,240,490C160,490,80,490,40,490L0,490Z"
          ></path>
          <defs>
            <linearGradient id="sw-gradient-1" x1="0" x2="0" y1="1" y2="0">
              <stop stop-color="rgba(3, 169, 244, 1)" offset="0%"></stop>
              <stop stop-color="rgba(0, 149.204, 216.615, 1)" offset="100%"></stop>
            </linearGradient>
          </defs>
          <path
            style="transform: translate(0, 50px); opacity: 0.9"
            fill="url(#sw-gradient-1)"
            d="M0,98L40,98C80,98,160,98,240,147C320,196,400,294,480,302.2C560,310,640,229,720,204.2C800,180,880,212,960,261.3C1040,310,1120,376,1200,343C1280,310,1360,180,1440,114.3C1520,49,1600,49,1680,106.2C1760,163,1840,278,1920,294C2000,310,2080,229,2160,187.8C2240,147,2320,147,2400,138.8C2480,131,2560,114,2640,122.5C2720,131,2800,163,2880,171.5C2960,180,3040,163,3120,187.8C3200,212,3280,278,3360,318.5C3440,359,3520,376,3600,334.8C3680,294,3760,196,3840,155.2C3920,114,4000,131,4080,171.5C4160,212,4240,278,4320,318.5C4400,359,4480,376,4560,334.8C4640,294,4720,196,4800,155.2C4880,114,4960,131,5040,179.7C5120,229,5200,310,5280,285.8C5360,261,5440,131,5520,98C5600,65,5680,131,5720,163.3L5760,196L5760,490L5720,490C5680,490,5600,490,5520,490C5440,490,5360,490,5280,490C5200,490,5120,490,5040,490C4960,490,4880,490,4800,490C4720,490,4640,490,4560,490C4480,490,4400,490,4320,490C4240,490,4160,490,4080,490C4000,490,3920,490,3840,490C3760,490,3680,490,3600,490C3520,490,3440,490,3360,490C3280,490,3200,490,3120,490C3040,490,2960,490,2880,490C2800,490,2720,490,2640,490C2560,490,2480,490,2400,490C2320,490,2240,490,2160,490C2080,490,2000,490,1920,490C1840,490,1760,490,1680,490C1600,490,1520,490,1440,490C1360,490,1280,490,1200,490C1120,490,1040,490,960,490C880,490,800,490,720,490C640,490,560,490,480,490C400,490,320,490,240,490C160,490,80,490,40,490L0,490Z"
          ></path>
        </svg>
      </div>

      <div class="area">
        <ul class="circles">
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
        </ul>
      </div>

      <div class="article">
        <div class="image">
          {% if article.picture %}
          <img src="{{ article.picture.url }}" alt="{{ article.topic }}" />
          {% endif %}

          <div class="title">
            <h1>{{ article.topic }}</h1>

            <span>{{ article.date }}</span>
          </div>
        </div>

        <div class="body"></div>

        {% block javascript %}
        <script>
          function unescapeHTML(escapedHTML) {
            return escapedHTML
              .replace(/&lt;/g, '<')
              .replace(/&gt;/g, '>')
              .replace(/&quot;/g, '"')
              .replace(/&amp;/g, '&');
          }

          const parser = new DOMParser();

          const body = parser.parseFromString(unescapeHTML(`{{article.body}}`), 'text/html').body.innerHTML;
          document.body.querySelector('.article .body').insertAdjacentHTML('beforeend', body);
        </script>
        {% endblock %}
      </div>
    </div>
  </body>
</html>
